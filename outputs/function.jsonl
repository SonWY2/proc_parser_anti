{"type": "function", "name": "initialize_system", "line_start": 67, "line_end": 89, "raw_content": "void initialize_system() {\n                                   \n        char *username = \"admin_user\";\n        char *password = \"secure_pass_123\";\n        char *db_string = \"production_db\";\n                                 \n    \n    printf(\"Initializing system...\\n\");\n    \n    /* Connect to database */\n                                                                        \n    \n    if (sqlca.sqlcode != 0) {\n        printf(\"Error connecting to database: %d\\n\", sqlca.sqlcode);\n        exit(ERROR);\n    }\n    \n    /* Set session parameters */\n                                                                         \n                                                             \n    \n    printf(\"System initialized successfully.\\n\");\n}", "function": null}
{"type": "function", "name": "process_large_dataset", "line_start": 95, "line_end": 266, "raw_content": "void process_large_dataset() {\n                                   \n        int h_emp_id;\n        char h_emp_name[100];\n        char h_dept_name[100];\n        float h_salary;\n        char h_hire_date[30];\n        int h_manager_id;\n        char h_manager_name[100];\n        char h_project_name[200];\n        float h_project_budget;\n        char h_customer_name[200];\n        int h_total_hours;\n        float h_performance_score;\n        char h_last_review_date[30];\n        int h_training_count;\n        float h_bonus_amount;\n        char h_office_location[100];\n        int h_reports_count;\n        float h_dept_avg_salary;\n        char h_skill_list[500];\n        int h_certification_count;\n        char h_emergency_contact[100];\n        char h_status[20];\n        int h_vacation_days;\n        float h_overtime_hours;\n        int h_project_count;\n        float h_revenue_generated;\n                                 \n    \n    printf(\"Processing large dataset with complex joins...\\n\");\n    \n    /* This is a massive SELECT with multiple joins, subqueries, and aggregations\n       spanning over 200 lines to test parser's ability to handle large SQL blocks */\n                    \n                      \n                                                        \n                          \n                 \n                                                                       \n                     \n                                                                \n                       \n                                   \n                        \n                                     \n                            \n                                             \n                                                                                \n                                          \n                                    \n                                             \n                                                                                  \n                                    \n                                     \n                                                                    \n                        \n                                 \n                                             \n                                                                   \n                                           \n                       \n                                            \n                                                                                        \n                                                                                \n                                              \n                          \n                                                                \n                              \n                          \n                                                                          \n                                                                                \n                                \n                                                  \n                                                             \n                        \n                                 \n                                               \n                                                                  \n                                                                               \n             \n                                                                 \n                                                 \n                         \n                                 \n                                          \n                              \n                                             \n                                                                                                  \n                                     \n                             \n                                             \n                                                                                       \n                                             \n                                    \n                                             \n                                                           \n                                               \n                                  \n                                                                        \n                                              \n                                                                                          \n        \n                  \n                    \n                     \n                  \n                     \n                      \n                        \n                        \n                          \n                         \n                       \n                             \n                            \n                          \n                        \n                           \n                         \n                           \n                      \n                               \n                             \n                  \n                         \n                          \n                         \n                            \n         \n                   \n               \n                                                          \n              \n                                                   \n              \n                                                                                        \n              \n                                                  \n              \n                                                    \n              \n                                              \n              \n                                                                                       \n          \n                                 \n                                              \n                                \n                           \n                                      \n                                            \n                                                     \n                                                                                                    \n         \n                    \n                     \n                               \n                                                 \n                                                        \n         \n                                 \n                                                                        \n             \n                      \n        \n    if (sqlca.sqlcode == 0) {\n        printf(\"Employee: %s (ID: %d)\\n\", h_emp_name, h_emp_id);\n        printf(\"Department: %s, Salary: %.2f\\n\", h_dept_name, h_salary);\n        printf(\"Skills: %s\\n\", h_skill_list);\n    }\n}", "function": null}
{"type": "function", "name": "handle_complex_cursors", "line_start": 272, "line_end": 407, "raw_content": "void handle_complex_cursors() {\n                                   \n        int c_emp_id;\n        char c_emp_name[100];\n        char c_dept[50];\n        float c_salary;\n        int c_dept_id;\n        char c_project_status[20];\n        int c_hours_logged;\n        char c_last_update[30];\n                                 \n    \n    int row_count = 0;\n    \n    printf(\"Processing complex cursor operations...\\n\");\n    \n    /* Declare a complex cursor with joins and aggregations */\n                                                  \n               \n                          \n                                               \n                              \n                     \n                            \n                 \n                                                            \n                                                        \n                                   \n                                  \n                                                        \n                                                                                \n             \n                       \n             \n                                                              \n                  \n                                                                    \n                  \n                                                           \n              \n                               \n                                 \n                 \n                                                      \n                                                                   \n               \n                                            \n                 \n                                         \n    \n    /* Open cursor */\n                                     \n    \n    if (sqlca.sqlcode != 0) {\n        printf(\"Error opening cursor: %d\\n\", sqlca.sqlcode);\n        return;\n    }\n    \n    /* Fetch and process rows */\n    while (1) {\n                                               \n                                                       \n                                                                           \n        \n        if (sqlca.sqlcode == 1403) {\n            /* No more rows */\n            break;\n        }\n        \n        if (sqlca.sqlcode != 0) {\n            printf(\"Fetch error: %d\\n\", sqlca.sqlcode);\n            break;\n        }\n        \n        row_count++;\n        \n        /* Process each row */\n        printf(\"Employee %d: %s - %s (%.2f)\\n\", c_emp_id, c_emp_name, c_dept, c_salary);\n        \n        /* Nested processing */\n        if (c_salary > 100000) {\n            /* High earner - call special processing */\n                                                                   \n            \n            /* Update audit log */\n                                            \n                                                               \n                      \n                                                         \n                                                                          \n              \n        }\n        \n        /* Time string test - should not confuse parser */\n        char *work_time = \"08:30:00\";\n        char *timestamp = \"2024-01-15 14:30:45\";\n        \n        if (c_hours_logged > 160) {\n            /* Overtime processing */\n                                              \n                                                  \n                                         \n                                                                            \n        }\n    }\n    \n    /* Close cursor */\n                                      \n    \n    printf(\"Processed %d employee records.\\n\", row_count);\n    \n    /* Another cursor for department-level processing */\n                                                   \n               \n                            \n                              \n                                              \n                                        \n                                           \n                                        \n                                       \n             \n                         \n                  \n                                                            \n              \n                               \n                 \n                                              \n               \n                                     \n    \n                                      \n    /* Additional cursor processing would continue here... */\n                                       \n}", "function": null}
{"type": "function", "name": "execute_batch_updates", "line_start": 413, "line_end": 470, "raw_content": "void execute_batch_updates() {\n                                   \n        char dyn_stmt[MAX_BUFFER];\n        int batch_id;\n        int affected_rows;\n        char table_name[50];\n        float adjustment_factor;\n                                 \n    \n    int i, j;\n    \n    printf(\"Executing batch update operations...\\n\");\n    \n    /* Dynamic SQL for flexible updates */\n    strcpy(table_name, \"employees\");\n    adjustment_factor = 1.05;\n    \n    sprintf(dyn_stmt, \n        \"UPDATE %s SET salary = salary * :v1, last_modified = SYSDATE \"\n        \"WHERE department_id = :v2 AND status = 'ACTIVE'\",\n        table_name);\n    \n                                                \n    \n    /* Execute for multiple departments */\n    for (i = 1; i <= 20; i++) {\n                                                                  \n        \n        affected_rows = sqlca.sqlerrd[2];\n        printf(\"Updated %d employees in department %d\\n\", affected_rows, i);\n        \n        if (i % 5 == 0) {\n                            \n        }\n    }\n    \n    /* Another complex dynamic operation */\n    sprintf(dyn_stmt,\n        \"INSERT INTO salary_history (emp_id, old_salary, new_salary, change_date) \"\n        \"SELECT employee_id, :v1, salary, SYSDATE FROM employees \"\n        \"WHERE last_modified > SYSDATE - 1\");\n    \n                                                 \n    \n    for (j = 1; j <= 100; j++) {\n        float old_sal = 50000.0 + (j * 100);\n                                                     \n    }\n    \n                    \n    \n    /* Batch delete with conditions */\n                                            \n                                     \n                             \n    \n    printf(\"Batch operations completed.\\n\");\n}", "function": null}
{"type": "function", "name": "generate_comprehensive_report", "line_start": 476, "line_end": 524, "raw_content": "void generate_comprehensive_report() {\n                                   \n        int r_total_employees;\n        float r_total_payroll;\n        float r_avg_salary;\n        int r_dept_count;\n        int r_active_projects;\n        char r_report_date[30];\n                                 \n    \n    printf(\"Generating comprehensive report...\\n\");\n    \n    /* Summary statistics */\n                    \n                 \n                    \n                    \n                                      \n                                                                \n                                                 \n        \n                           \n                         \n                      \n                      \n                           \n                      \n                  \n                            \n    \n    printf(\"=== Report Generated: %s ===\\n\", r_report_date);\n    printf(\"Total Employees: %d\\n\", r_total_employees);\n    printf(\"Total Payroll: %.2f\\n\", r_total_payroll);\n    printf(\"Average Salary: %.2f\\n\", r_avg_salary);\n    printf(\"Active Departments: %d\\n\", r_dept_count);\n    printf(\"Active Projects: %d\\n\", r_active_projects);\n    \n    /* Store report in database */\n                                         \n                                                                      \n              \n                                                                                       \n      \n    \n                    \n    \n    /* Trigger report generation service */\n                                                                  \n}", "function": null}
{"type": "function", "name": "validate_data_integrity", "line_start": 530, "line_end": 573, "raw_content": "void validate_data_integrity() {\n                                   \n        int orphan_count;\n        int duplicate_count;\n        int invalid_salary_count;\n                                 \n    \n    printf(\"Validating data integrity...\\n\");\n    \n    /* Check for orphaned records */\n                                               \n                    \n                      \n                                                                           \n      \n    \n    if (orphan_count > 0) {\n        printf(\"WARNING: Found %d orphaned employee records!\\n\", orphan_count);\n    }\n    \n    /* Check for duplicates */\n                                                  \n          \n                                     \n                      \n                      \n                           \n      \n    \n    if (duplicate_count > 0) {\n        printf(\"WARNING: Found %d duplicate email addresses!\\n\", duplicate_count);\n    }\n    \n    /* Validate salary ranges */\n                                                       \n                  \n                                         \n    \n    if (invalid_salary_count > 0) {\n        printf(\"WARNING: Found %d records with invalid salaries!\\n\", invalid_salary_count);\n    }\n    \n    printf(\"Integrity validation completed.\\n\");\n}", "function": null}
{"type": "function", "name": "process_transactions", "line_start": 579, "line_end": 612, "raw_content": "void process_transactions() {\n                                   \n        long trans_id;\n        char trans_type[50];\n        int user_id;\n                                 \n    \n    printf(\"Processing transaction logs...\\n\");\n    \n                                            \n                                                        \n                            \n                                                    \n                              \n                                \n    \n                               \n    \n    while (1) {\n                                                                          \n        if (sqlca.sqlcode != 0) break;\n        \n        /* Process transaction */\n        printf(\"Processing transaction %ld: %s\\n\", trans_id, trans_type);\n        \n        /* Update status */\n                                        \n                                                          \n                                         \n    }\n    \n                                \n                    \n}", "function": null}
{"type": "function", "name": "cleanup_and_finalize", "line_start": 618, "line_end": 638, "raw_content": "void cleanup_and_finalize() {\n    printf(\"Cleaning up resources...\\n\");\n    \n    /* Commit any pending transactions */\n                         \n    \n    /* Archive old logs */\n                                      \n                             \n                                  \n    \n                                    \n                                  \n    \n                    \n    \n    /* Disconnect from database */\n                                 \n    \n    printf(\"Cleanup completed successfully.\\n\");\n}", "function": null}
{"type": "function", "name": "main", "line_start": 643, "line_end": 665, "raw_content": "int main(int argc, char *argv[]) {\n    printf(\"Starting Complex Pro*C Application...\\n\");\n    printf(\"===========================================\\n\\n\");\n    \n    /* Initialize */\n    initialize_system();\n    \n    /* Execute main processing functions */\n    process_large_dataset();\n    handle_complex_cursors();\n    execute_batch_updates();\n    generate_comprehensive_report();\n    validate_data_integrity();\n    process_transactions();\n    \n    /* Cleanup */\n    cleanup_and_finalize();\n    \n    printf(\"\\n===========================================\\n\");\n    printf(\"Application completed successfully.\\n\");\n    \n    return SUCCESS;\n}", "function": null}
{"type": "function", "name": "complex_function", "line_start": 12, "line_end": 66, "raw_content": "void complex_function() {\n    int i;\n    char *time_str = \"12:30:45\"; // Should not be detected as host var :30, :45\n    char *sql_str = \"SELECT * FROM emp WHERE id = :id\"; // String literal, not SQL block\n    \n    // Edge Case 2: Complex Host Variables\n    struct {\n        int id;\n        char name[50];\n    } emp_struct;\n    \n    int emp_ids[10];\n\n                                   \n        int :h_id; // Colon in declaration? usually not needed but parser should handle\n        char *h_name;\n                                 \n\n    // Edge Case 3: Nested SQL and weird formatting\n             \n               \n                                    \n                  \n                                                    \n             \n                              \n                        \n             \n                \n              \n                       \n                                                                                      // Time string inside SQL\n\n    // Edge Case 4: Dynamic SQL with string concatenation\n    char dyn_stmt[100];\n    sprintf(dyn_stmt, \"DELETE FROM %s WHERE id = %%d\", \"emp\");\n    \n                                       \n                        \n\n    // Edge Case 5: Plugin Edge Cases (BAMCALL)\n    // Nested parentheses and strings\n                                                                    \n    \n    // Edge Case 6: Macro usage\n    for(i=0; i<MAX_RETRIES; i++) {\n                        \n    }\n    \n    // Edge Case 7: Unknown Syntax (Simulated)\n    // This block is neither valid C (standard) nor Pro*C regex match\n    UNKNOWN_MACRO_OR_SYNTAX {\n        weird_stuff;\n    }\n}", "function": null}
{"type": "function", "name": "db_connect", "line_start": 22, "line_end": 29, "raw_content": "void db_connect() {\n                                   \n        char *username = \"scott\";\n        char *password = \"tiger\";\n                                 \n\n                                                       \n}", "function": null}
{"type": "function", "name": "process_employee", "line_start": 31, "line_end": 74, "raw_content": "void process_employee(int emp_id) {\n    struct Employee emp;\n                                   \n        int h_id;\n        char h_name[50];\n        float h_salary;\n        char *stmt = \"UPDATE emp SET salary = salary * 1.1 WHERE id = :v1\";\n                                 \n\n    h_id = emp_id;\n\n    /* Select employee data */\n                                 \n                                     \n                      \n                              \n\n    if (sqlca.sqlcode != 0) {\n        printf(\"Error: %d\\n\", sqlca.sqlcode);\n        return;\n    }\n\n    // Dynamic SQL Example\n                                   \n                                    \n\n    // Cursor Example\n                                           \n                                                     \n    \n                             \n    \n    while(1) {\n                                                      \n        if (sqlca.sqlcode == 1403) break;\n        printf(\"High earner: %s\\n\", h_name);\n    }\n    \n                              \n\n    // Edge case: Time string that looks like host var\n    char *time_str = \"12:30:45\";\n    printf(\"Time: %s\\n\", time_str);\n}", "function": null}
{"type": "function", "name": "bam_call_example", "line_start": 76, "line_end": 78, "raw_content": "void bam_call_example() {\n                                                       \n}", "function": null}
